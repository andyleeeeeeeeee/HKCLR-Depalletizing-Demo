<launch>
  <arg name="single_loop" default="true"/>
  <arg name="is_box_mixed" default="true"/>
  <arg name="is_small_box" default="true"/>

  <param name="/use_sim_time" value="true"/>

  <node pkg="roport" type="roport_moveit_server.py" name="roport_moveit_server" output="screen">
    <rosparam param="group_names">['arm']</rosparam>
    <rosparam param="ee_links">['tcp']</rosparam>
  </node>

  <group if="$(arg is_box_mixed)">
    <node name="palletizing_helper" pkg="roport" type="palletizing_helper.py" respawn="false" output="screen">
      <rosparam command="load" file="$(find roport)/config/sim_helper_hkcenter_mixed.yaml"/>
    </node>
  </group>

  <group unless="$(arg is_box_mixed)">
   <group if="$(arg is_small_box)">
    <node name="palletizing_helper" pkg="roport" type="palletizing_helper.py" respawn="false" output="screen">
      <rosparam command="load" file="$(find roport)/config/sim_helper_hkcenter_small.yaml"/>
    </node>
   </group>
   <group unless="$(arg is_small_box)">
    <node name="palletizing_helper" pkg="roport" type="palletizing_helper.py" respawn="false" output="screen">
      <rosparam command="load" file="$(find roport)/config/sim_helper_hkcenter_large.yaml"/>
    </node>
   </group>
  </group>

</launch>
